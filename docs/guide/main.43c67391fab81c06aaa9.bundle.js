(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.pretty0=exports.pretty1=exports.pretty=exports.PrettyCode=exports.isNil=exports.checkNotNil=exports.check=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(233)),_react=_interopRequireDefault(__webpack_require__(1));exports.check=function check(condition){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return"condition is false"};if(!condition)throw new Error(message())};exports.checkNotNil=function checkNotNil(value){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return"value is nil"};if(isNil(value))throw new Error(message())};var isNil=function isNil(value){return null==value};exports.isNil=isNil;var PrettyCode=function PrettyCode(_ref){var value=_ref.value,_ref$indent=_ref.indent,indent=void 0===_ref$indent?2:_ref$indent,otherProps=(0,_objectWithoutProperties2.default)(_ref,["value","indent"]);return _react.default.createElement("pre",Object.assign({style:{margin:"0",padding:"0",color:"#000",fontSize:"13px",whiteSpace:"pre-wrap",wordWrap:"break-word"}},otherProps),_react.default.createElement("code",null,pretty(value,indent)))};exports.PrettyCode=PrettyCode;var pretty=function pretty(value){var indent=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(value,void 0,indent)};exports.pretty=pretty;exports.pretty1=function pretty1(value){return pretty(value,1).split("\n").map(function(it){return it.trim()}).join(" ")};exports.pretty0=function pretty0(value){return pretty(value,0)},PrettyCode.__docgenInfo={description:"",methods:[],displayName:"PrettyCode"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/utils.js"]={name:"PrettyCode",docgenInfo:PrettyCode.__docgenInfo,path:"src/helpers/utils.js"})},154:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchSchemaPaths=exports.orderSchema=exports.taskModel=exports.taskSchema=exports.field=exports.fieldset=exports.integer=exports.number=exports.string=exports.boolean=exports.array=exports.object=exports.buildDefinition=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(104)),_jsonSchemaWalker=__webpack_require__(374),_lodash=__webpack_require__(373),buildDefinition=function buildDefinition(type,payload){return(0,_objectSpread2.default)({type:type},payload)};exports.buildDefinition=buildDefinition;var object=function object(payload){return buildDefinition("object",payload)};exports.object=object;var array=function array(payload){return buildDefinition("array",payload)};exports.array=array;var _boolean=function _boolean(payload){return buildDefinition("boolean",payload)};exports.boolean=_boolean;var string=function string(payload){return buildDefinition("string",payload)};exports.string=string;var number=function number(payload){return buildDefinition("number",payload)};exports.number=number;var integer=function integer(payload){return buildDefinition("integer",payload)};exports.integer=integer;var fieldset=function fieldset(datatype){var payload=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return buildDefinition("fieldset",(0,_objectSpread2.default)({datatype:datatype},payload))};exports.fieldset=fieldset;var field=function field(datatype){var payload=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return buildDefinition("field",(0,_objectSpread2.default)({datatype:datatype},payload))};exports.field=field;var taskSchema=object({title:"A list of tasks",required:["title"],properties:{title:string({title:"Task list title"}),tasks:array({title:"Tasks",items:object({required:["title"],properties:{title:string({title:"Title",description:"A sample title"}),details:string({title:"Task details",description:"Enter the task details"}),done:_boolean({title:"Done?",default:!1})}})})}});exports.taskSchema=taskSchema;var taskModel=fieldset("object",{pointer:"#/",title:"A list of tasks",children:[field("string",{pointer:"#/properties/title",name:"title",title:"Task list title"}),fieldset("array",{pointer:"#/properties/tasks",name:"tasks",title:"Tasks",children:[fieldset("object",{pointer:"#/properties/tasks/items",name:"items",children:[field("string",{pointer:"#/properties/tasks/items/properties/title",name:"title",title:"Title",description:"A sample title"}),field("string",{pointer:"#/properties/tasks/items/properties/details",name:"details",title:"Task details",description:"Enter the task details"}),field("boolean",{pointer:"#/properties/tasks/items/properties/done",name:"done",title:"Done?",default:!1})]})]})]});exports.taskModel=taskModel;var orderSchema=object({$schema:"http://json-schema.org/schema#",properties:{orderNumber:string(),orderDate:string(),customer:object({properties:{customerNumber:string(),firstName:string(),lastName:string()}}),orderItems:array({items:object({properties:{productNumber:string(),quantity:integer(),unitPrice:integer()}})}),shippingAddress:object({properties:{street:string(),city:string(),country:string(),zip:string()}}),totalPrice:number()}});exports.orderSchema=orderSchema;exports.fetchSchemaPaths=function fetchSchemaPaths(schema){var schemaPaths=[];return(0,_jsonSchemaWalker.schemaWalk)(schema,function(schemaObject,path,parentSchemaObject,parentPath){schemaPaths.push({type:schemaObject.type,path:path,parentPath:parentPath,fullPath:(0,_lodash.concat)(parentPath,path)})}),schemaPaths}},369:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(52),_interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragBox=exports.DropBox=exports.EditorFormPart=exports.default=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(104)),_slicedToArray2=_interopRequireDefault(__webpack_require__(232)),_objectWithoutProperties2=_interopRequireDefault(__webpack_require__(233)),_react=_interopRequireWildcard(__webpack_require__(1)),_immer=__webpack_require__(228),_lodashEs=__webpack_require__(230),_fannypack=__webpack_require__(53),_reactFontawesome=__webpack_require__(845),_freeSolidSvgIcons=__webpack_require__(846),_FormRoot=__webpack_require__(370);__webpack_require__(153);exports.default=function _default(_ref){var _ref$model=_ref.model,model=void 0===_ref$model?(0,_FormRoot.simpleFormModel)():_ref$model,_ref$prefs=_ref.prefs,prefs=void 0===_ref$prefs?{options:{}}:_ref$prefs,otherProps=(0,_objectWithoutProperties2.default)(_ref,["model","prefs"]),_useState=(0,_react.useState)(model),_useState2=(0,_slicedToArray2.default)(_useState,2),formModel=_useState2[0],setFormModel=_useState2[1],_useState3=(0,_react.useState)(prefs),_useState4=(0,_slicedToArray2.default)(_useState3,2),formPrefs=_useState4[0],setFormPrefs=_useState4[1],localTheme=(0,_FormRoot.defaultLocalTheme)(),formContext=(0,_FormRoot.defaultFormContext)((0,_immer.produce)(function(context){context.registry.FormPart=EditorFormPart,context.formModel=formModel,context.setFormModel=setFormModel,context.formPrefs=formPrefs,context.setFormPrefs=setFormPrefs}));return(0,_react.useEffect)(function(){console.log("form model changed")},[formModel]),_react.default.createElement(_FormRoot.ContextProvider,{formContext:formContext,localTheme:localTheme},_react.default.createElement(_fannypack.Box,Object.assign({_paddingTop:"major-2",paddingLeft:"major-2",paddingRight:"major-2",color:"#121212"},otherProps),_react.default.createElement(_FormRoot.FormRoot,{rootModel:formModel})))};var EditorFormPart=function EditorFormPart(_ref2){var node=_ref2.node,path=_ref2.path,children=_ref2.children,context=(0,_react.useContext)(_FormRoot.FormContext),isSelected=path===context.formPrefs.selectedFieldset,isFieldSelected=path.includes(context.formPrefs.selectedFieldset),isActive=!context.formPrefs.selectedFieldset||isFieldSelected,pointerPrefs=(0,_objectSpread2.default)({},context.formPrefs[node.pointer]),header=node.pointer?_react.default.createElement(_fannypack.Text,null,node.title," ",_react.default.createElement(_fannypack.Text,{use:"small"},node.pointer)):null,fontSizesHeader=context.formPrefs.options.fontSizesHeader,fontSize=fontSizesHeader?fontSizesHeader[path.split(".").length]:null,rowPadding=function rowPadding(paddingPx){return{paddingLeft:"".concat(paddingPx),paddingRight:"".concat(paddingPx),marginLeft:"-".concat(paddingPx),marginRight:"-".concat(paddingPx)}};if("fieldset"===node.type)return _react.default.createElement(DropBox,{gridColumn:pointerPrefs.gridColumn,name:path,_onDragOver:onDragOver,_onDrop:function _onDrop(event){return onDrop(event,path)},position:"relative"},isSelected&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_fannypack.Flex,{column:!0,alignItems:"center",position:"absolute",top:"10px",left:"-50px",width:"20px"},_react.default.createElement(_reactFontawesome.FontAwesomeIcon,{icon:_freeSolidSvgIcons.faTrashAlt,size:"lg",color:"#d70004"})),_react.default.createElement(_fannypack.Flex,{column:!0,alignItems:"center",position:"absolute",top:"50%",left:"-50px",width:"20px"},_react.default.createElement(_reactFontawesome.FontAwesomeIcon,{icon:_freeSolidSvgIcons.faGripLinesVertical,size:"lg",color:"#aaaaaa"}))),_react.default.createElement(_fannypack.Box,Object.assign({},rowPadding("16px"),{onClick:function onSelectClick(event){context.setFormPrefs((0,_immer.produce)(function(formPrefs){var selectedFieldset=formPrefs.selectedFieldset===path?null:path;formPrefs.selectedFieldset=selectedFieldset})),event.stopPropagation()},backgroundColor:isSelected?"#fbd9d2":void 0}),header&&_react.default.createElement(_fannypack.Box,Object.assign({},rowPadding("16px"),{color:(0,_lodashEs.get)(pointerPrefs,"header.color"),backgroundColor:(0,_lodashEs.get)(pointerPrefs,"header.backgroundColor"),opacity:isActive?null:"0.5",pointerEvents:isActive?null:"none",paddingBottom:"8px"}),_react.default.createElement(_fannypack.Heading,{use:"h2",paddingTop:"8px",paddingBottom:"8px",fontSize:fontSize},_react.default.createElement(_react.Fragment,null,header))),children&&_react.default.createElement(_fannypack.Box,Object.assign({},rowPadding("16px"),{color:(0,_lodashEs.get)(pointerPrefs,"body.color"),backgroundColor:(0,_lodashEs.get)(pointerPrefs,"body.backgroundColor"),display:"grid",gridTemplateColumns:pointerPrefs.gridTemplateColumns,gridColumnGap:"16px",gridRowGap:"0"}),children)));if("field"===node.type)return _react.default.createElement(DragBox,{gridColumn:pointerPrefs.gridColumn,name:path,_onMouseOver:function _onMouseOver(event){return onMouseOver(event,path)},_onDragStart:function _onDragStart(event){return onDragStart(event,path)}},_react.default.createElement(_fannypack.Box,{paddingBottom:"16px",opacity:isActive?null:"0.5",pointerEvents:isActive?null:"none"},_react.default.createElement(_fannypack.InputField,{label:node.pointer.split("/").slice(-1)[0],defaultValue:node.pointer,readOnly:!0})));throw new Error("node.type handler not defined")};exports.EditorFormPart=EditorFormPart;var DropBox=function DropBox(_ref3){var children=_ref3.children,otherProps=(_ref3.name,(0,_objectWithoutProperties2.default)(_ref3,["children","name"]));return _react.default.createElement(_fannypack.Box,otherProps,children)};exports.DropBox=DropBox;var DragBox=function DragBox(_ref4){var children=_ref4.children,otherProps=(_ref4.name,(0,_objectWithoutProperties2.default)(_ref4,["children","name"]));return _react.default.createElement(_fannypack.Box,Object.assign({draggable:!0},otherProps),children)};exports.DragBox=DragBox;var onDragStart=function onDragStart(event,path){console.log("drag start:",path,event.currentTarget),event.dataTransfer.setData("path",path);var emptyImage=new Image;emptyImage.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",event.dataTransfer.setDragImage(emptyImage,0,0)},onDragOver=function onDragOver(event,path){event.preventDefault()},onDrop=function onDrop(event,path){event.preventDefault();var data=event.dataTransfer.getData("path");console.log("drop:",path,event.currentTarget,data);var point={x:event.nativeEvent.clientX,y:event.nativeEvent.clientY},clientRect=event.currentTarget.getBoundingClientRect(),bounds={x:clientRect.x,y:clientRect.y,width:clientRect.width,height:clientRect.height};console.log("drop point and bounds:",point,bounds)},onMouseOver=function onMouseOver(event,path){};EditorFormPart.__docgenInfo={description:"",methods:[],displayName:"EditorFormPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormEditor.js"]={name:"EditorFormPart",docgenInfo:EditorFormPart.__docgenInfo,path:"src/components/FormEditor.js"}),DropBox.__docgenInfo={description:"",methods:[],displayName:"DropBox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormEditor.js"]={name:"DropBox",docgenInfo:DropBox.__docgenInfo,path:"src/components/FormEditor.js"}),DragBox.__docgenInfo={description:"",methods:[],displayName:"DragBox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormEditor.js"]={name:"DragBox",docgenInfo:DragBox.__docgenInfo,path:"src/components/FormEditor.js"})},370:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(52),_interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.simpleFormModel=exports.field=exports.fieldset=exports.buildDefinition=exports.buildFormModel=exports.localTheme=exports.defaultLocalTheme=exports.defaultFormContext=exports.ContextProvider=exports.FormContext=exports.createFormPartType=exports.FormPart=exports.FormArray=exports.FormObject=exports.FormRoot=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(104)),_taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(371)),_react=_interopRequireWildcard(__webpack_require__(1)),_fannypack=__webpack_require__(53),_lodashEs=__webpack_require__(230);function _templateObject5(){var data=(0,_taggedTemplateLiteral2.default)(["\n      outline: unset !important;\n      box-shadow: unset !important;\n      border: unset;\n    "]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=(0,_taggedTemplateLiteral2.default)(['\n      font-family: "open sans";\n      font-size: 14px;\n      line-height: unset;\n      border: 1px solid #cccccc !important;\n      border-radius: 0;\n      box-shadow: unset !important;\n      height: 40px;\n      padding: 0 15px;\n    ']);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=(0,_taggedTemplateLiteral2.default)(['\n      font-family: "open sans condensed";\n      font-size: 16px;\n    ']);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=(0,_taggedTemplateLiteral2.default)(['\n      font-family: "open sans condensed";\n      font-size: 20px;\n      line-height: unset;\n      & small {\n        font-size: 14px;\n        font-family: "open sans";\n        font-weight: normal;\n      }\n    ']);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n      font-family: "open sans";\n      border-radius: 0;\n    ']);return _templateObject=function _templateObject(){return data},data}__webpack_require__(847),__webpack_require__(848);var FormRoot=function FormRoot(_ref){var rootModel=_ref.rootModel,_ref$rootView=_ref.rootView,rootView=void 0===_ref$rootView?null:_ref$rootView,_useContext=(0,_react.useContext)(FormContext),registry=_useContext.registry,queryComponent=_useContext.queryComponent;return _react.default.createElement(_fannypack.Box,{use:rootView||queryComponent(registry,"FormObject",rootModel),node:rootModel,path:"root"})};exports.FormRoot=FormRoot;var FormObject=function FormObject(_ref2){var node=_ref2.node,path=_ref2.path,_useContext2=(0,_react.useContext)(FormContext),registry=_useContext2.registry,queryComponent=_useContext2.queryComponent;return _react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormPart",node),node:node,path:path},node.children&&_react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormArray",node.children),items:node.children,path:"".concat(path,".children")}))};exports.FormObject=FormObject;var FormArray=function FormArray(_ref3){var items=_ref3.items,path=_ref3.path,_useContext3=(0,_react.useContext)(FormContext),registry=_useContext3.registry,queryComponent=_useContext3.queryComponent;return items.map(function(item,index){return _react.default.createElement(_react.Fragment,{key:"".concat(path,"[").concat(index,"]")},_react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormObject",item),node:item,path:"".concat(path,"[").concat(index,"]")}))})};exports.FormArray=FormArray;var FormPart=function FormPart(_ref4){var node=_ref4.node,path=_ref4.path,children=_ref4.children;return _react.default.createElement(_fannypack.Box,null,_react.default.createElement(_fannypack.Box,{margin:"major-1",padding:"major-1",backgroundColor:"danger",color:"white"},_react.default.createElement(_fannypack.Text,null,"Error: ",_react.default.createElement(_fannypack.Code,null,"<FormPart>")," for type"," ",_react.default.createElement(_fannypack.Code,null,createFormPartType(node.type,node.datatype))," at path"," ",_react.default.createElement(_fannypack.Code,null,path)," not found.")),_react.default.createElement(_fannypack.Box,null,children))};exports.FormPart=FormPart;var createFormPartType=function createFormPartType(){for(var _len=arguments.length,types=new Array(_len),_key=0;_key<_len;_key++)types[_key]=arguments[_key];return(0,_lodashEs.compact)(types).join("-").toLowerCase()};exports.createFormPartType=createFormPartType;var FormContext=_react.default.createContext(null);exports.FormContext=FormContext;var ContextProvider=function ContextProvider(_ref5){var _ref5$localTheme=_ref5.localTheme,localTheme=void 0===_ref5$localTheme?null:_ref5$localTheme,_ref5$formContext=_ref5.formContext,formContext=void 0===_ref5$formContext?null:_ref5$formContext,children=_ref5.children;return _react.default.createElement(_fannypack.ThemeProvider,{theme:localTheme},_react.default.createElement(FormContext.Provider,{value:formContext},_react.default.createElement(_react.Fragment,null,children)))};exports.ContextProvider=ContextProvider;exports.defaultFormContext=function defaultFormContext(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(context){return context})({registry:{FormObject:FormObject,FormArray:FormArray,FormPart:FormPart},queryComponent:function queryComponent(registry,name,data){return registry[name]}})};exports.defaultLocalTheme=function defaultLocalTheme(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(theme){return theme})(localTheme)};var localTheme={Pane:{base:(0,_fannypack.css)(_templateObject())},Heading:{h2:(0,_fannypack.css)(_templateObject2())},Label:{base:(0,_fannypack.css)(_templateObject3())},Input:{base:(0,_fannypack.css)(_templateObject4()),focus:(0,_fannypack.css)(_templateObject5())}};exports.localTheme=localTheme;exports.buildFormModel=function buildFormModel(definitionFn){return definitionFn({fieldset:fieldset,field:field})};var buildDefinition=function buildDefinition(type,payload){return(0,_objectSpread2.default)({type:type},payload)};exports.buildDefinition=buildDefinition;var fieldset=function fieldset(datatype){var payload=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return buildDefinition("fieldset",(0,_objectSpread2.default)({datatype:datatype},payload))};exports.fieldset=fieldset;var field=function field(datatype){var payload=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return buildDefinition("field",(0,_objectSpread2.default)({datatype:datatype},payload))};exports.field=field;exports.simpleFormModel=function simpleFormModel(){return fieldset("object",{pointer:"#/",title:"order",children:[field("string",{pointer:"#/properties/orderNumber"}),field("string",{pointer:"#/properties/orderDate"}),fieldset("object",{pointer:"#/properties/customer",title:"customer",children:[field("string",{pointer:"#/properties/customer/properties/customerNumber"}),field("string",{pointer:"#/properties/customer/properties/firstName"}),field("string",{pointer:"#/properties/customer/properties/lastName"})]})]})},FormRoot.__docgenInfo={description:"",methods:[],displayName:"FormRoot"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormRoot.js"]={name:"FormRoot",docgenInfo:FormRoot.__docgenInfo,path:"src/components/FormRoot.js"}),FormObject.__docgenInfo={description:"",methods:[],displayName:"FormObject"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormRoot.js"]={name:"FormObject",docgenInfo:FormObject.__docgenInfo,path:"src/components/FormRoot.js"}),FormPart.__docgenInfo={description:"",methods:[],displayName:"FormPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormRoot.js"]={name:"FormPart",docgenInfo:FormPart.__docgenInfo,path:"src/components/FormRoot.js"}),ContextProvider.__docgenInfo={description:"",methods:[],displayName:"ContextProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormRoot.js"]={name:"ContextProvider",docgenInfo:ContextProvider.__docgenInfo,path:"src/components/FormRoot.js"})},372:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.traverseSchema=exports.toObjectPath=exports.toPointer=exports.isRootPointer=exports.isFieldsetType=exports.buildModel=exports.buildFlatModel=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(104)),_lodash=__webpack_require__(373),_jsonSchemaWalker=__webpack_require__(374),_model=__webpack_require__(154);__webpack_require__(153);exports.buildFlatModel=function buildFlatModel(schema){var registry={fieldsetIndex:-1,fieldIndex:-1,currentParentPointer:null},model=(0,_model.fieldset)("array");return traverseSchema(schema,function(object,parentObject){var pointer=toPointer((0,_lodash.concat)(parentObject.path,object.path)),parentPointer=toPointer(parentObject.path),type=object.schema.type;if(!isFieldsetType(type)&&parentPointer!==registry.currentParentPointer){registry.fieldsetIndex+=1,registry.fieldIndex=-1,registry.currentParentPointer=parentPointer;var _objectPathSegments=[];_objectPathSegments.push("children[".concat(registry.fieldsetIndex,"]"));var _objectPath=toObjectPath(_lodash.concat.apply(void 0,_objectPathSegments)),payload=(0,_lodash.pick)(parentObject.schema,["title"]),node=(0,_model.fieldset)(parentObject.schema.type,(0,_objectSpread2.default)({pointer:parentPointer},payload));(0,_lodash.set)(model,_objectPath,node)}isFieldsetType(type)?(registry.fieldsetIndex+=1,registry.fieldIndex=-1,registry.currentParentPointer=pointer):registry.fieldIndex+=1;var objectPathSegments=[];objectPathSegments.push("children[".concat(registry.fieldsetIndex,"]")),isFieldsetType(type)||objectPathSegments.push("children[".concat(registry.fieldIndex,"]"));var objectPath=toObjectPath(_lodash.concat.apply(void 0,objectPathSegments));if(isFieldsetType(type)){var _payload=(0,_lodash.pick)(object.schema,["title"]),_node=(0,_model.fieldset)(type,(0,_objectSpread2.default)({pointer:pointer},_payload));(0,_lodash.set)(model,objectPath,_node)}else{var _payload2=(0,_lodash.pick)(object.schema,["title"]),_node2=(0,_model.field)(type,(0,_objectSpread2.default)({pointer:pointer},_payload2));(0,_lodash.set)(model,objectPath,_node2)}}),model};exports.buildModel=function buildModel(schema){var registry={},model={};return traverseSchema(schema,function(object,parentObject){var pointer=toPointer((0,_lodash.concat)(parentObject.path,object.path)),parentPointer=toPointer(parentObject.path),type=object.schema.type;isRootPointer(pointer,parentPointer)?registry[pointer]={parentPointer:null,path:null,index:0,nextChildIndex:0}:(registry[pointer]={parentPointer:parentPointer,path:object.path,index:registry[parentPointer].nextChildIndex,nextChildIndex:0},registry[parentPointer].nextChildIndex+=1);for(var rewritePathSegment=function rewritePathSegment(_ref){var path=_ref.path,index=_ref.index;return path?["children",index]:[]},objectPathSegments=[],currentEntry=registry[pointer];currentEntry;)objectPathSegments.unshift(rewritePathSegment(currentEntry)),currentEntry=registry[currentEntry.parentPointer];var objectPath=toObjectPath(_lodash.concat.apply(void 0,objectPathSegments)),rootObjectPath=objectPath?"root."+objectPath:"root";if(isFieldsetType(type)){var payload=(0,_lodash.pick)(object.schema,["title"]),node=(0,_model.fieldset)(type,(0,_objectSpread2.default)({pointer:pointer},payload));(0,_lodash.set)(model,rootObjectPath,node)}else{var _payload3=(0,_lodash.pick)(object.schema,["title"]),_node3=(0,_model.field)(type,(0,_objectSpread2.default)({pointer:pointer},_payload3));(0,_lodash.set)(model,rootObjectPath,_node3)}}),model.root};var isFieldsetType=function isFieldsetType(type){return"object"===type||"array"===type};exports.isFieldsetType=isFieldsetType;var isRootPointer=function isRootPointer(pointer,parentPointer){return pointer===parentPointer};exports.isRootPointer=isRootPointer;var toPointer=function toPointer(pathSegments){return"#/".concat(pathSegments.join("/"))};exports.toPointer=toPointer;var toObjectPath=function toObjectPath(pathSegments){return pathSegments.join(".")};exports.toObjectPath=toObjectPath;var traverseSchema=function traverseSchema(schema,visitFn){(0,_jsonSchemaWalker.schemaWalk)(schema,function(schemaObject,path,parentSchemaObject,parentPath){visitFn({schema:schemaObject,path:path},{schema:parentSchemaObject,path:parentPath})})};exports.traverseSchema=traverseSchema},387:function(module,exports,__webpack_require__){__webpack_require__(388),__webpack_require__(474),module.exports=__webpack_require__(475)},475:function(module,exports,__webpack_require__){"use strict";(function(module){var _react=__webpack_require__(124),_theming=__webpack_require__(540);(0,_react.addParameters)({options:{name:"monomodel storybook",theme:_theming.themes.light,showPanel:!1,sortStoriesByKind:!0,sidebarAnimations:!1,isToolshown:!0}}),(0,_react.configure)(function loadStories(){var req=__webpack_require__(624);req.keys().forEach(function(filename){return req(filename)})},module)}).call(this,__webpack_require__(30)(module))},624:function(module,exports,__webpack_require__){var map={"./builder.story.js":625,"./editor.story.js":850,"./layout.story.js":860};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=624},625:function(module,exports,__webpack_require__){"use strict";(function(module){var _interopRequireDefault=__webpack_require__(38),_react=__webpack_require__(52)(__webpack_require__(1)),_react2=__webpack_require__(124),_fannypack=__webpack_require__(53),_FormEditor=_interopRequireDefault(__webpack_require__(369)),_builder=__webpack_require__(372),_model=__webpack_require__(154),stories=(0,_react2.storiesOf)("components/builder",module);stories.addDecorator(function(story){return _react.default.createElement(_fannypack.ThemeProvider,null,_react.default.createElement(_fannypack.Box,{backgroundColor:"#f7f7f8",paddingLeft:"major-5",paddingRight:"major-5",paddingBottom:"major-5"},story()))}),stories.add("flat fieldsets",function(){var formPrefs=createFormPrefs(),formModel=(0,_builder.buildFlatModel)(orderSchema);return _react.default.createElement(_fannypack.Box,{marginLeft:"major-4",marginRight:"major-1",border:"1px solid #cccccc",borderTop:"none",backgroundColor:"white"},_react.default.createElement(_FormEditor.default,{model:formModel,prefs:formPrefs}))}),stories.add("nested fieldsets",function(){var formPrefs=createFormPrefs(),formModel=(0,_builder.buildModel)(orderSchema);return _react.default.createElement(_fannypack.Box,{marginLeft:"major-4",marginRight:"major-1",border:"1px solid #cccccc",borderTop:"none",backgroundColor:"white"},_react.default.createElement(_FormEditor.default,{model:formModel,prefs:formPrefs}))});var createFormPrefs=function createFormPrefs(){return{options:{},"#/":{},"#/properties/customer":{gridTemplateColumns:"repeat(2, 1fr)"},"#/properties/customer/properties/customerNumber":{gridColumn:"span 1"},"#/properties/customer/properties/firstName":{gridColumn:"1 / span 1"},"#/properties/customer/properties/lastName":{gridColumn:"span 1"},"#/properties/orderItems":{},"#/properties/orderItems/items":{gridTemplateColumns:"repeat(2, 1fr)"},"#/properties/shippingAddress":{gridTemplateColumns:"repeat(2, 1fr)"}}},orderSchema=(0,_model.object)({$schema:"http://json-schema.org/schema#",title:"order",properties:{orderNumber:(0,_model.string)(),orderDate:(0,_model.string)(),customer:(0,_model.object)({title:"customer",properties:{customerNumber:(0,_model.string)(),firstName:(0,_model.string)(),lastName:(0,_model.string)()}}),orderItems:(0,_model.array)({title:"items",items:(0,_model.object)({title:"item",properties:{productNumber:(0,_model.string)(),quantity:(0,_model.integer)(),unitPrice:(0,_model.integer)()}})}),shippingAddress:(0,_model.object)({title:"address",properties:{street:(0,_model.string)(),city:(0,_model.string)(),country:(0,_model.string)(),zip:(0,_model.string)()}}),totalPrice:(0,_model.number)()}});(0,_model.object)({title:"order",properties:{orderNumber:(0,_model.string)(),orderDate:(0,_model.string)(),customer:(0,_model.object)({title:"customer",properties:{customerNumber:(0,_model.string)(),firstName:(0,_model.string)(),lastName:(0,_model.string)()}})}})}).call(this,__webpack_require__(30)(module))},850:function(module,exports,__webpack_require__){"use strict";(function(module){var _interopRequireDefault=__webpack_require__(38),_react=__webpack_require__(52)(__webpack_require__(1)),_react2=__webpack_require__(124),_fannypack=__webpack_require__(53),_FormEditor=_interopRequireDefault(__webpack_require__(369)),_SchemaEditor=_interopRequireDefault(__webpack_require__(851)),stories=(0,_react2.storiesOf)("components/editor",module);stories.addDecorator(function(story){return _react.default.createElement(_fannypack.ThemeProvider,null,_react.default.createElement(_fannypack.Box,{padding:"major-6",background:"#f7f7f8"},story()))}),stories.add("form editor",function(){return _react.default.createElement(_fannypack.Box,{padding:"0",background:"#ffffff",border:"1px solid #cccccc"},_react.default.createElement(_FormEditor.default,null))}),stories.add("schema editor",function(){return _react.default.createElement(_fannypack.Box,{padding:"major-3",background:"#ffffff",border:"1px solid #cccccc"},_react.default.createElement(_SchemaEditor.default,null))})}).call(this,__webpack_require__(30)(module))},851:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(52),_interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(__webpack_require__(852)),_taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(371)),_react=_interopRequireDefault(__webpack_require__(1)),_fannypack=__webpack_require__(53),_styledComponents=_interopRequireWildcard(__webpack_require__(5)),_reactCodemirror=__webpack_require__(853);__webpack_require__(854),__webpack_require__(855),__webpack_require__(856);var _model=__webpack_require__(154),_utils=__webpack_require__(153);function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n  .CodeMirror {\n    height: auto;\n    font-family: Menlo, Monaco, "Courier New", monospace;\n    font-size: 14px;\n    line-height: 1.25;\n  }\n']);return _templateObject=function _templateObject(){return data},data}var styles=(0,_styledComponents.css)(_templateObject());exports.styles=styles;var _default=(0,_styledComponents.default)(function(_ref){var otherProps=(0,_extends2.default)({},_ref);return _react.default.createElement(_fannypack.Box,otherProps,_react.default.createElement(_reactCodemirror.UnControlled,{value:(0,_utils.pretty)(_model.orderSchema,1),options:{mode:{name:"javascript",jsonld:!0},keyMap:"vim",lineNumbers:!1,_readOnly:"nocursor",viewportMargin:1/0}}))})(styles);exports.default=_default},860:function(module,exports,__webpack_require__){"use strict";(function(module){var _interopRequireWildcard=__webpack_require__(52);Object.defineProperty(exports,"__esModule",{value:!0}),exports.Playground=void 0;var _react=_interopRequireWildcard(__webpack_require__(1)),_react2=__webpack_require__(124),_fannypack=__webpack_require__(53),_layout=__webpack_require__(861),_layoutDemo=__webpack_require__(862),stories=(0,_react2.storiesOf)("helpers/layout",module);stories.addDecorator(function(story){return _react.default.createElement(_fannypack.ThemeProvider,null,story())}),stories.add("useGridColumns()",function(){return _react.default.createElement(Playground,{title:"useGridColumns()"},_react.default.createElement(_layout.UseGridColumnsDemo,null))}),stories.add("useGridPositions()",function(){return _react.default.createElement(Playground,{title:"useGridPositions()"},_react.default.createElement(_layout.UseGridPositionsDemo,null))}),stories.add("form demo: move fieldset",function(){return _react.default.createElement(Playground,{title:"form demo: move fieldset (red)"},_react.default.createElement(_layoutDemo.FormDemoOne,null))}),stories.add("form demo: move field within fieldset",function(){return _react.default.createElement(Playground,{title:"form demo: move field (blue) within fieldset (red)"},_react.default.createElement(_layoutDemo.FormDemoTwo,null))}),stories.add("form demo: move field from fieldset to fieldset sibling",function(){return _react.default.createElement(Playground,{title:"form demo: move field (blue) from fieldset (red) to fieldset sibling (red)"},_react.default.createElement(_layoutDemo.FormDemoThree,null))});var Playground=function Playground(_ref){var title=_ref.title,children=_ref.children;return _react.default.createElement(_fannypack.Box,{padding:"major-5",background:"#f7f7f8"},_react.default.createElement(_fannypack.Box,{padding:"major-2",background:"#ffffff",border:"1px solid #cccccc"},title&&_react.default.createElement(_fannypack.Heading,{use:"h2",fontFamily:"open sans condensed",fontSize:"26px",color:"#121212"},title),children))};exports.Playground=Playground,Playground.__docgenInfo={description:"",methods:[],displayName:"Playground"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/layout.story.js"]={name:"Playground",docgenInfo:Playground.__docgenInfo,path:"src/stories/layout.story.js"})}).call(this,__webpack_require__(30)(module))},861:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(52),_interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveArrayItemInplace=exports.useGridColumns=exports.UseGridColumnsDemo=exports.useGridPositions=exports.UseGridPositionsDemo=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(232)),_react=_interopRequireWildcard(__webpack_require__(1)),_fannypack=__webpack_require__(53),_immer=__webpack_require__(228),UseGridPositionsDemo=function UseGridPositionsDemo(){var _useGridPositions=useGridPositions({container:{size:{w:2,h:4},gaps:{x:16,y:16},rowHeight:50},initialItems:[{id:0,text:"0",bounds:{y:0,x:0,h:1,w:2}},{id:1,text:"1",bounds:{y:1,x:0,h:1,w:1}},{id:2,text:"2",bounds:{y:1,x:1,h:1,w:1}},{id:3,text:"3",bounds:{y:2,x:1,h:1,w:1}},{id:4,text:"4",bounds:{y:3,x:0,h:1,w:1}}]}),items=_useGridPositions.items,setItems=_useGridPositions.setItems,toItemProps=_useGridPositions.toItemProps,containerProps=_useGridPositions.containerProps;return(0,_react.useEffect)(function(){setItems((0,_immer.produce)(function(items){moveArrayItemInplace(items,0,2)}))},[]),_react.default.createElement(_fannypack.ThemeProvider,null,_react.default.createElement(_fannypack.Box,containerProps,items.map(function(item){return _react.default.createElement(_react.Fragment,{key:item.id},_react.default.createElement(_fannypack.Box,Object.assign({padding:"10px",border:"1px solid #ccc",backgroundColor:"#fff"},toItemProps(item.id)),item.text))})))};exports.UseGridPositionsDemo=UseGridPositionsDemo;var useGridPositions=function useGridPositions(_ref){var initialItems=_ref.initialItems,container=_ref.container,pixels=function pixels(value){return"".concat(value,"px")},percentage=function percentage(value){return"".concat(100*value,"%")},_useState=(0,_react.useState)(initialItems),_useState2=(0,_slicedToArray2.default)(_useState,2),items=_useState2[0],setItems=_useState2[1];return{containerProps:{position:"relative",width:"calc(".concat(percentage(1)," + ").concat(pixels(container.gaps.x)),height:pixels(container.gaps.y*(container.size.h-1)+container.size.h*container.rowHeight),marginRight:"-".concat(pixels(container.gaps.x))},items:items,setItems:setItems,toItemProps:function toItemProps(id){var item=items.find(function(item){return item.id===id}),itemBounds={x:item.bounds.x/container.size.w/(item.bounds.w/container.size.w),y:item.bounds.y*container.gaps.y+item.bounds.y/container.size.h*(container.size.h*container.rowHeight),w:item.bounds.w/container.size.w,h:item.bounds.h*container.rowHeight};return{position:"absolute",width:"calc(".concat(percentage(itemBounds.w)," - ").concat(pixels(container.gaps.x),")"),height:pixels(itemBounds.h),transform:"\n          translateX(".concat(percentage(itemBounds.x),")\n          ").concat(0===item.bounds.x?"":"translateX(".concat(pixels(container.gaps.x),")"),"\n          translateY(").concat(pixels(itemBounds.y),")\n        ")}}}};exports.useGridPositions=useGridPositions;var UseGridColumnsDemo=function UseGridColumnsDemo(){var _useGridColumns=useGridColumns({containerColumns:"repeat(2, 1fr)",initialItems:[{id:0,text:"0",columns:"1 / span 2"},{id:1,text:"1",columns:"span 1"},{id:2,text:"2",columns:"span 1"},{id:3,text:"3",columns:"2 / span 1"},{id:4,text:"4",columns:"1 / span 1"}]}),items=_useGridColumns.items,setItems=_useGridColumns.setItems,toItemProps=_useGridColumns.toItemProps,containerProps=_useGridColumns.containerProps;return(0,_react.useEffect)(function(){setItems((0,_immer.produce)(function(items){moveArrayItemInplace(items,0,2)}))},[]),_react.default.createElement(_fannypack.ThemeProvider,null,_react.default.createElement(_fannypack.Box,containerProps,items.map(function(item){return _react.default.createElement(_react.Fragment,{key:item.id},_react.default.createElement(_fannypack.Box,Object.assign({padding:"10px",border:"1px solid #ccc",backgroundColor:"#fff",height:"50px"},toItemProps(item.id)),item.text))})))};exports.UseGridColumnsDemo=UseGridColumnsDemo;var useGridColumns=function useGridColumns(_ref2){var initialItems=_ref2.initialItems,containerColumns=_ref2.containerColumns,_useState3=(0,_react.useState)(initialItems),_useState4=(0,_slicedToArray2.default)(_useState3,2),items=_useState4[0],setItems=_useState4[1];return{containerProps:{display:"grid",gridTemplateColumns:containerColumns,gridColumnGap:"16px",gridRowGap:"16px"},items:items,setItems:setItems,toItemProps:function toItemProps(id){return{gridColumn:items.find(function(item){return item.id===id}).columns}}}};exports.useGridColumns=useGridColumns;var moveArrayItemInplace=function moveArrayItemInplace(array,indexFrom,indexTo){array.splice(indexTo<0?array.length+indexTo:indexTo,0,array.splice(indexFrom,1)[0])};exports.moveArrayItemInplace=moveArrayItemInplace,UseGridPositionsDemo.__docgenInfo={description:"",methods:[],displayName:"UseGridPositionsDemo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layout.js"]={name:"UseGridPositionsDemo",docgenInfo:UseGridPositionsDemo.__docgenInfo,path:"src/helpers/layout.js"}),UseGridColumnsDemo.__docgenInfo={description:"",methods:[],displayName:"UseGridColumnsDemo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layout.js"]={name:"UseGridColumnsDemo",docgenInfo:UseGridColumnsDemo.__docgenInfo,path:"src/helpers/layout.js"})},862:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(52),_interopRequireDefault=__webpack_require__(38);Object.defineProperty(exports,"__esModule",{value:!0}),exports.orderSchema=exports.DragBox=exports.DropBox=exports.EditorFormPart=exports.FormViewer=exports.FormDemoThree=exports.EditorFormArray=exports.EditorFormArrayGrid=exports.FormDemoTwo=exports.FormDemoOne=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(104)),_slicedToArray2=_interopRequireDefault(__webpack_require__(232)),_objectWithoutProperties2=_interopRequireDefault(__webpack_require__(233)),_react=_interopRequireWildcard(__webpack_require__(1)),_immer=__webpack_require__(228),_lodashEs=__webpack_require__(230),_fannypack=__webpack_require__(53),_reactMovable=__webpack_require__(863),_reactGridLayout=_interopRequireDefault(__webpack_require__(865));__webpack_require__(872),__webpack_require__(873);var _FormRoot=__webpack_require__(370),_model=__webpack_require__(154),_builder=__webpack_require__(372),FormDemoOne=(__webpack_require__(153),function FormDemoOne(){var formModel=(0,_builder.buildFlatModel)(orderSchema),formRegistry={FormArray:EditorFormArray,FormPart:EditorFormPart};return _react.default.createElement(FormViewer,{model:formModel,registry:formRegistry})});exports.FormDemoOne=FormDemoOne;var FormDemoTwo=function FormDemoTwo(){var formModel=(0,_builder.buildFlatModel)(orderSchema),formRegistry={FormArray:EditorFormArrayGrid,FormPart:EditorFormPart};return _react.default.createElement(FormViewer,{model:formModel,registry:formRegistry})};exports.FormDemoTwo=FormDemoTwo;var EditorFormArrayGrid=function EditorFormArrayGrid(_ref){var items=_ref.items,path=_ref.path,_useContext=(0,_react.useContext)(_FormRoot.FormContext),registry=_useContext.registry,queryComponent=_useContext.queryComponent;_useContext.setFormModel;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_fannypack.Box,null,items[0]&&"field"===items[0].type&&_react.default.createElement(_reactGridLayout.default,Object.assign({style:{marginBottom:"16px"}},{width:550,cols:6,rowHeight:65,margin:[16,16],containerPadding:[0,0],compactType:"vertical"}),items.map(function(item,index){return _react.default.createElement(_fannypack.Box,{key:"".concat(item.pointer,"@").concat(index),"data-grid":{x:0,y:0,w:3,h:1,minW:3,maxH:2}},_react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormObject",item),node:item,path:"".concat(path,"[").concat(index,"]")}))}))),items[0]&&"field"!==items[0].type&&_react.default.createElement(_react.Fragment,null,items.map(function(item,index){return _react.default.createElement(_fannypack.Box,{key:"".concat(item.pointer,"@").concat(index)},_react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormObject",item),node:item,path:"".concat(path,"[").concat(index,"]")}))})))};exports.EditorFormArrayGrid=EditorFormArrayGrid;var EditorFormArray=function EditorFormArray(_ref2){var items=_ref2.items,path=_ref2.path,_useContext2=(0,_react.useContext)(_FormRoot.FormContext),registry=_useContext2.registry,queryComponent=_useContext2.queryComponent,setFormModel=_useContext2.setFormModel;return _react.default.createElement(_reactMovable.List,{lockVertically:!0,_transitionDuration:0,values:items,onChange:function onChange(_ref3){var oldIndex=_ref3.oldIndex,newIndex=_ref3.newIndex;setFormModel((0,_immer.produce)(function(formModel){var array=(0,_lodashEs.get)({root:formModel},path);arrayMoveMutate(array,oldIndex,newIndex)}))},renderList:function renderList(_ref4){var children=_ref4.children,props=_ref4.props;return _react.default.createElement(_fannypack.Box,props,children)},renderItem:function renderItem(_ref5){var value=_ref5.value,index=_ref5.index,props=_ref5.props;return _react.default.createElement(_fannypack.Box,Object.assign({},props,{key:"".concat(value.pointer,"@").concat(index)}),_react.default.createElement(_fannypack.Box,{use:queryComponent(registry,"FormObject",value),node:value,path:"".concat(path,"[").concat(index,"]")}))}})};exports.EditorFormArray=EditorFormArray;var FormDemoThree=function FormDemoThree(){var formModel=(0,_builder.buildFlatModel)(orderSchema),formRegistry={FormPart:EditorFormPart};return _react.default.createElement(FormViewer,{model:formModel,registry:formRegistry})};exports.FormDemoThree=FormDemoThree;var FormViewer=function FormViewer(_ref6){var _ref6$model=_ref6.model,model=void 0===_ref6$model?null:_ref6$model,_ref6$registry=_ref6.registry,registry=void 0===_ref6$registry?null:_ref6$registry,otherProps=(0,_objectWithoutProperties2.default)(_ref6,["model","registry"]),_useState=(0,_react.useState)(model),_useState2=(0,_slicedToArray2.default)(_useState,2),formModel=_useState2[0],setFormModel=_useState2[1],localTheme=(0,_FormRoot.defaultLocalTheme)(),formContext=(0,_FormRoot.defaultFormContext)((0,_immer.produce)(function(context){context.registry=(0,_objectSpread2.default)({},context.registry,registry),context.formModel=formModel,context.setFormModel=setFormModel}));return _react.default.createElement(_FormRoot.ContextProvider,{formContext:formContext,localTheme:localTheme},_react.default.createElement(_fannypack.Box,Object.assign({_paddingTop:"major-2",paddingLeft:"major-2",paddingRight:"major-2",color:"#121212"},otherProps),formModel&&_react.default.createElement(_FormRoot.FormRoot,{rootModel:formModel})))};exports.FormViewer=FormViewer;var EditorFormPart=function EditorFormPart(_ref7){var node=_ref7.node,children=(_ref7.path,_ref7.children),header=((0,_react.useContext)(_FormRoot.FormContext),node.pointer?_react.default.createElement(_fannypack.Text,null,node.title," ",_react.default.createElement(_fannypack.Text,{use:"small"},node.pointer)):null),rowPadding=function rowPadding(paddingPx){return{paddingLeft:"".concat(paddingPx),paddingRight:"".concat(paddingPx),marginLeft:"-".concat(paddingPx),marginRight:"-".concat(paddingPx)}};if("fieldset"===node.type)return _react.default.createElement(DropBox,null,_react.default.createElement(_fannypack.Box,Object.assign({},rowPadding("16px"),{backgroundColor:"#fff",border:"1px solid ".concat((node.pointer,"red")),cursor:"move"}),header&&_react.default.createElement(_fannypack.Box,Object.assign({},rowPadding("16px"),{paddingBottom:"8px"}),_react.default.createElement(_fannypack.Heading,{use:"h2",paddingTop:"8px",paddingBottom:"8px"},_react.default.createElement(_react.Fragment,null,header))),children&&_react.default.createElement(_fannypack.Box,rowPadding("16px"),children)));if("field"===node.type)return _react.default.createElement(DragBox,null,_react.default.createElement(_fannypack.Box,{marginBottom:"16px",border:"1px solid blue",backgroundColor:"#fff"},_react.default.createElement(_fannypack.InputField,{label:node.pointer.split("/").slice(-1)[0],defaultValue:node.pointer,readOnly:!0})));throw new Error("node.type handler not defined")};exports.EditorFormPart=EditorFormPart;var DropBox=function DropBox(_ref8){var children=_ref8.children,otherProps=(_ref8.name,(0,_objectWithoutProperties2.default)(_ref8,["children","name"]));return _react.default.createElement(_fannypack.Box,otherProps,children)};exports.DropBox=DropBox;var DragBox=function DragBox(_ref9){var children=_ref9.children,otherProps=(_ref9.name,(0,_objectWithoutProperties2.default)(_ref9,["children","name"]));return _react.default.createElement(_fannypack.Box,Object.assign({_draggable:!0},otherProps),children)};exports.DragBox=DragBox;var arrayMoveMutate=function arrayMoveMutate(array,indexFrom,indexTo){array.splice(indexTo<0?array.length+indexTo:indexTo,0,array.splice(indexFrom,1)[0])},orderSchema=(0,_model.object)({$schema:"http://json-schema.org/schema#",title:"order",properties:{orderNumber:(0,_model.string)(),orderDate:(0,_model.string)(),customer:(0,_model.object)({title:"customer",properties:{customerNumber:(0,_model.string)(),firstName:(0,_model.string)(),lastName:(0,_model.string)()}})}});exports.orderSchema=orderSchema,FormDemoOne.__docgenInfo={description:"",methods:[],displayName:"FormDemoOne"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"FormDemoOne",docgenInfo:FormDemoOne.__docgenInfo,path:"src/helpers/layoutDemo.js"}),FormDemoTwo.__docgenInfo={description:"",methods:[],displayName:"FormDemoTwo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"FormDemoTwo",docgenInfo:FormDemoTwo.__docgenInfo,path:"src/helpers/layoutDemo.js"}),EditorFormArrayGrid.__docgenInfo={description:"",methods:[],displayName:"EditorFormArrayGrid"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"EditorFormArrayGrid",docgenInfo:EditorFormArrayGrid.__docgenInfo,path:"src/helpers/layoutDemo.js"}),EditorFormArray.__docgenInfo={description:"",methods:[],displayName:"EditorFormArray"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"EditorFormArray",docgenInfo:EditorFormArray.__docgenInfo,path:"src/helpers/layoutDemo.js"}),FormDemoThree.__docgenInfo={description:"",methods:[],displayName:"FormDemoThree"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"FormDemoThree",docgenInfo:FormDemoThree.__docgenInfo,path:"src/helpers/layoutDemo.js"}),FormViewer.__docgenInfo={description:"",methods:[],displayName:"FormViewer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"FormViewer",docgenInfo:FormViewer.__docgenInfo,path:"src/helpers/layoutDemo.js"}),EditorFormPart.__docgenInfo={description:"",methods:[],displayName:"EditorFormPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"EditorFormPart",docgenInfo:EditorFormPart.__docgenInfo,path:"src/helpers/layoutDemo.js"}),DropBox.__docgenInfo={description:"",methods:[],displayName:"DropBox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"DropBox",docgenInfo:DropBox.__docgenInfo,path:"src/helpers/layoutDemo.js"}),DragBox.__docgenInfo={description:"",methods:[],displayName:"DragBox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/helpers/layoutDemo.js"]={name:"DragBox",docgenInfo:DragBox.__docgenInfo,path:"src/helpers/layoutDemo.js"})}},[[387,1,2]]]);
//# sourceMappingURL=main.43c67391fab81c06aaa9.bundle.js.map